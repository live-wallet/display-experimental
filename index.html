<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Wallet Balance</title>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
/* (keeps your styles intact as above) */
body {
  font-family: Arial, sans-serif;
  background: #fff;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  min-height: 100vh;
  margin: 0;
  padding: 20px;
  color: #333;
}
/* (styles unchanged, same as your previous snippet) */
.header { /* ... */ }
.header-left { /* ... */ }
.header img { /* ... */ }
/* All other styles same as yours */
</style>
</head>
<body>

<div class="header">
  <div class="header-left">
    <img src="https://unavatar.io/x/qazwsxz12" alt="Profile picture">
    <h1>Wallet</h1>
  </div>
  <div style="position: relative;">
    <div class="ventures-link-circle" onclick="toggleVentures()">
      <svg viewBox="0 0 24 24"><path d="M20 6h-4V4c0-1.1-.9-2-2-2h-4c-1.1
        0-2 .9-2 2v2H4c-1.1 0-2 
        .9-2 2v12c0 1.1.9 2 
        2 2h16c1.1 0 2-.9 
        2-2V8c0-1.1-.9-2-2-2zM10 
        4h4v2h-4V4zm10 16H4V8h16v12z"/></svg>
    </div>
    <div class="ventures-popup" id="venturesPopup">
      <h3>Funded Ventures</h3>
      <div class="venture-item">Coffee Roastery Startup</div>
      <div class="venture-item">AI Writing SaaS</div>
      <div class="venture-item">Eco-friendly Packaging</div>
    </div>
  </div>
</div>

<div class="wallets-container">
  <div class="wallet">
    <div class="balance" id="btcBalance">Loading...</div>
    <div>Bitcoin</div>
    <div class="copy-circle" onclick="copyAddress(this)" data-address="bc1qjtgfw6dythprkvmkps7dmfm7dkkhtgy76q02ep">
      <div class="tooltip">Copy Bitcoin address</div>
      <svg class="btc-icon" viewBox="0 0 32 32">
        <circle cx="16" cy="16" r="16" fill="#eee"/>
        <path fill="#343434" d="M20.192 14.56c.308-2.062-1.264-3.176-3.42-3.91l.698-2.8-1.704-.423-.68 2.727c-.448-.112-.908-.218-1.36-.324l.685-2.74-1.704-.423-.698 2.8c-.368-.085-.73-.17-1.084-.259l.002-.009-2.35-.584-.453 1.815s1.264.29 1.238.309c.691.172.815.63.793.993l-.79 3.166c.047.012.107.03.173.058l-.174-.043-1.106 4.43c-.084.208-.297.52-.778.402.017.024-1.24-.309-1.24-.309l-.845 1.947 2.215.552c.41.102.814.21 1.214.313l-.705 2.832 1.703.423.698-2.802c.462.125.91.242 1.348.353l-.693 2.78 1.704.423.705-2.832c2.909.551 5.094.328 6.021-2.305.742-2.112-.037-3.332-1.566-4.127 1.113-.257 1.951-.988 2.175-2.497zm-3.893 5.44c-.527 2.112-4.09.972-5.24.684l.934-3.746c1.15.287 4.854.855 4.306 3.062zm.53-5.462c-.48 1.924-3.442.945-4.401.705l.847-3.4c.959.24 4.05.687 3.554 2.695z"/>
      </svg>
    </div>
    <div class="copied-msg">Copied!</div>
  </div>

  <div class="wallet">
    <div class="balance" id="ethBalance">Loading...</div>
    <div>Ethereum</div>
    <div class="copy-circle" onclick="copyAddress(this)" data-address="0xb96e27d05fe60a24a01a7672e7d3effc3bdb3d7e">
      <div class="tooltip">Copy Ethereum address</div>
      <svg class="eth-icon" viewBox="0 0 256 417">
        <polygon fill="#343434" points="127.9,0 125.1,9.3 125.1,279.4 127.9,282.1 255.8,208.4 "/>
        <polygon fill="#8C8C8C" points="127.9,0 0,208.4 127.9,282.1 127.9,150.1 "/>
        <polygon fill="#3C3C3B" points="127.9,307.2 126.3,308.8 126.3,414.8 127.9,417 255.9,232.8 "/>
        <polygon fill="#8C8C8C" points="127.9,417 127.9,307.2 0,232.8 "/>
        <polygon fill="#141414" points="127.9,282.1 255.8,208.4 127.9,150.1 "/>
        <polygon fill="#393939" points="0,208.4 127.9,282.1 127.9,150.1 "/>
      </svg>
    </div>
    <div class="copied-msg">Copied!</div>
  </div>
</div>

<p class="info">Contributions to this wallet support and grow businesses.</p>

<h2>Recent Supporters</h2>
<div class="supporters" id="supporters">
  <div class="supporter-card">Loading supporters...</div>
</div>

<p class="info">Interested in what I've built here? Send me a message on X.</p>

<div class="contact-circle">
  <a href="https://x.com/qazwsxz12" target="_blank">
    <svg viewBox="0 0 24 24">
      <path d="M4.5 3h4.9l3.6 5.2 3.6-5.2h4.9l-6.5 9.3 7 10.7h-5l-4.5-6.7-4.5 6.7h-5l7-10.7-6.5-9.3z"/>
    </svg>
  </a>
</div>

<script>
let simulatedBTC = 0;
let simulatedETH = 0;
let fakeSupporters = [];

function copyAddress(el) {
  navigator.clipboard.writeText(el.getAttribute("data-address")).then(() => {
    const msg = el.parentElement.querySelector('.copied-msg');
    msg.style.opacity = 1;
    setTimeout(() => msg.style.opacity = 0, 800);
  });
}

function formatBalance(val) {
  return parseFloat(val).toPrecision(6).replace(/\.?0+$/, '');
}

function updateWalletData() {
  let prices = {};
  fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum&vs_currencies=usd')
  .then(res => res.json())
  .then(data => {
    prices.btc = data.bitcoin.usd;
    prices.eth = data.ethereum.usd;

    fetch(`https://blockchain.info/q/addressbalance/bc1qjtgfw6dythprkvmkps7dmfm7dkkhtgy76q02ep?confirmations=3`)
      .then(res => res.text())
      .then(sats => {
        const btc = parseInt(sats) / 100000000 + simulatedBTC;
        document.getElementById("btcBalance").textContent = 
          `${formatBalance(btc)} BTC ≈ $${(btc*prices.btc).toFixed(2)}`;
      });

    fetch(`https://api.etherscan.io/api?module=account&action=balance&address=0xb96e27d05fe60a24a01a7672e7d3effc3bdb3d7e&tag=latest&apikey=7HQVBFNBCEAYW31Z1B9V7W7G56KPR2XECW`)
      .then(res => res.json())
      .then(data => {
        const eth = parseInt(data.result) / 1e18 + simulatedETH;
        document.getElementById("ethBalance").textContent = 
          `${formatBalance(eth)} ETH ≈ $${(eth*prices.eth).toFixed(2)}`;
      });

    let supporters = fakeSupporters.slice(0,4);
    const container = document.getElementById("supporters");
    container.innerHTML = "";
    if(supporters.length){
      supporters.forEach(sup=>{
        const card = document.createElement("div");
        card.className = "supporter-card";
        card.textContent = `${sup.address.slice(0,6)}...${sup.address.slice(-4)} tipped ${sup.amount}`;
        container.appendChild(card);
      });
    } else {
      container.innerHTML = `<div class="supporter-card">No recent supporters yet.</div>`;
    }
  });
}

function simulateDonations() {
  setInterval(()=>{
    const isBTC = Math.random() > 0.5;
    const amount = +(Math.random() * (isBTC ? 0.005 : 0.03)).toFixed(6);
    const fakeAddress = (Math.random()+1).toString(36).substring(2,10);
    if(isBTC) {
      simulatedBTC += amount;
      fakeSupporters.unshift({
        address: "bc1"+fakeAddress,
        amount: `${formatBalance(amount)} BTC`
      });
    } else {
      simulatedETH += amount;
      fakeSupporters.unshift({
        address: "0x"+fakeAddress+"abc",
        amount: `${formatBalance(amount)} ETH`
      });
    }
    if(fakeSupporters.length > 10) fakeSupporters.pop();
    updateWalletData();
    confetti({particleCount: 80, spread: 70});
  }, 10000);
}

function toggleVentures() {
  const popup = document.getElementById('venturesPopup');
  popup.style.display = popup.style.display === 'flex' ? 'none' : 'flex';
}

updateWalletData();
setInterval(updateWalletData, 60000);
simulateDonations();
</script>

</body>
</html>
